Структура проекта
Корневая папка проекта (./)
README.md: Файл с описанием проекта, инструкциями по установке, настройке и запуску.
.env: Файл с переменными окружения, такими как ключи API, настройки базы данных и другие конфигурации.
.gitignore: Файл для исключения ненужных файлов и папок из репозитория.
docker-compose.yml: Файл для управления контейнерами, описывающий конфигурацию сервисов (например, FastAPI, Postgres).
init.sql: SQL-скрипт для инициализации базы данных (например, создание необходимых таблиц и первичных данных для Postgres).
Папка ./api
Логика API микросервиса будет находиться здесь. Внутри:
FastAPI логика (в корне ./api):
main.py: Основной файл для запуска FastAPI-приложения, в котором будет определена маршрутизация и конфигурация.
routes.py: Файл с описанием маршрутов для работы с API.
dependencies.py: Файл для описания зависимостей (например, подключение к базе данных).
Папка ./api/src (внутри ./api)
subdomain_services.py: Логика для получения поддоменов через сторонние сервисы и оффлайн-базы.
database.py: Логика взаимодействия с базой данных (например, сохранение поддоменов в базу данных, выполнение SQL-запросов).
models.py: Описание схем данных и моделей для работы с базой данных (например, SQLAlchemy модели).
utils.py: Вспомогательные функции (например, обработка ошибок или логгирование).